:root {
    --ifsc-green: #1B5E20;
    --ifsc-soft: #E6F4EA;
    --ifsc-gray: #374151;
    --bg-light: #F9FAFB;
    --bg-dark: #0f172a;
    --surface-light: rgba(255, 255, 255, 0.95);
    --surface-dark: rgba(15, 23, 42, 0.9);
    --border-light: #D1D5DB;
    --border-dark: #4B5563;
    --text-muted: #6B7280;
}

/* Base */
body,
.site-shell {
    background-color: var(--bg-light);
    color: var(--ifsc-gray);
    font-family: 'Inter', sans-serif;
    line-height: 1.6;
}

.dark body,
.dark .site-shell {
    background-color: var(--bg-dark);
    color: #D1D5DB;
}

/* Layout */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1.5rem;
}

.site-header,
header {
    background-color: var(--surface-light);
    backdrop-filter: blur(10px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.site-footer,
footer {
    background-color: var(--surface-light);
    box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1);
    padding: 2rem 0;
}

.site-footer p,
footer p {
    margin: 0;
}

.dark .site-header,
.dark header {
    background-color: var(--surface-dark);
}

.dark .site-footer,
.dark footer {
    background-color: var(--surface-dark);
}

/* Componentes */
.chapter-card {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    padding: 1rem;
    border: 1px solid var(--border-light);
    border-radius: 0.75rem;
    background-color: #FFFFFF;
    transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}

.chapter-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(15, 23, 42, 0.08);
    border-color: #9CA3AF;
}

.chapter-number {
    min-width: 2.5rem;
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--ifsc-green);
}

.chapter-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: #0f172a;
}

.chapter-description {
    font-size: 0.92rem;
    color: var(--text-muted);
}

.chapter-arrow {
    width: 1.05rem;
    height: 1.05rem;
    color: #64748b;
    transition: transform 0.2s ease, color 0.2s ease;
}

.chapter-card:hover .chapter-arrow {
    transform: translateX(3px);
    color: var(--ifsc-green);
}

.theme-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 2.4rem;
    height: 2.4rem;
    border-radius: 9999px;
    border: 1px solid #CBD5E1;
    background: #FFFFFF;
    color: #334155;
    transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
}

.theme-toggle:hover {
    background: #f8fafc;
    border-color: #94a3b8;
}

.theme-toggle:focus-visible {
    outline: 2px solid #16a34a;
    outline-offset: 2px;
}

.sun-icon,
.moon-icon {
    width: 1rem;
    height: 1rem;
}

.moon-icon {
    display: none;
}

.dark .sun-icon {
    display: none;
}

.dark .moon-icon {
    display: inline-block;
}

.tooltip {
    position: absolute;
    z-index: 60;
    max-width: 18rem;
    padding: 0.35rem 0.55rem;
    border-radius: 0.45rem;
    background: #0f172a;
    color: #f8fafc;
    font-size: 0.75rem;
    line-height: 1.35;
    pointer-events: none;
}

.dark .chapter-card {
    background-color: #1e293b;
    border-color: var(--border-dark);
}

.dark .chapter-title {
    color: #f8fafc;
}

.dark .chapter-description,
.dark .chapter-arrow {
    color: #94a3b8;
}

.dark .chapter-card:hover .chapter-arrow {
    color: #86efac;
}

.dark .theme-toggle {
    background: #1e293b;
    border-color: #475569;
    color: #e2e8f0;
}

.nota-destaque {
    position: relative;
    margin: 1.2rem 0;
    padding: 1.15rem 1.35rem;
    border-radius: 0.35rem;
    background: #e8ef97;
    color: #1f2937;
    box-shadow: 10px 10px 0 rgba(15, 23, 42, 0.16);
}

.nota-destaque::after {
    content: "";
    position: absolute;
    right: 0;
    bottom: 0;
    width: 0;
    height: 0;
    border-left: 14px solid transparent;
    border-top: 14px solid rgba(154, 162, 81, 0.65);
}

.nota-destaque p {
    margin: 0;
    font-weight: 500;
}

.dark .nota-destaque {
    background: #4a5a25;
    color: #f8fafc;
    box-shadow: 8px 8px 0 rgba(2, 6, 23, 0.35);
}

.dark .nota-destaque::after {
    border-top-color: rgba(148, 163, 184, 0.45);
}

.evolucao-sistemas {
    display: grid;
    gap: 0.9rem;
    margin: 0.85rem 0;
}

.evolucao-card {
    display: flex;
    align-items: flex-start;
    gap: 0.85rem;
    padding: 0.85rem;
    border-radius: 0.95rem;
    border: 1px solid rgba(15, 23, 42, 0.12);
}

.evolucao-thumb {
    width: 4.2rem;
    height: 4.2rem;
    border-radius: 0.75rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.55);
    box-shadow: inset 0 0 0 1px rgba(15, 23, 42, 0.08);
    flex-shrink: 0;
}

.evolucao-thumb i {
    width: 1.8rem;
    height: 1.8rem;
    color: #334155;
}

.evolucao-title {
    margin: 0 0 0.2rem;
    font-size: 1.05rem;
    font-weight: 700;
}

.evolucao-text {
    margin: 0;
}

.evolucao-manual {
    background: #f9dfe3;
}

.evolucao-arquivos {
    background: #e7f2d9;
}

.evolucao-sgbd {
    background: #e4ddf2;
}

.evolucao-modernos {
    background: #d8eef8;
}

@media (max-width: 640px) {
    .evolucao-card {
        flex-direction: column;
    }
}

.dark .evolucao-card {
    border-color: rgba(148, 163, 184, 0.28);
}

.dark .evolucao-manual {
    background: rgba(127, 29, 29, 0.35);
}

.dark .evolucao-arquivos {
    background: rgba(63, 98, 18, 0.35);
}

.dark .evolucao-sgbd {
    background: rgba(88, 28, 135, 0.35);
}

.dark .evolucao-modernos {
    background: rgba(8, 47, 73, 0.35);
}

.dark .evolucao-thumb {
    background: rgba(15, 23, 42, 0.45);
}

.dark .evolucao-thumb i {
    color: #e2e8f0;
}

.tabela-alegre {
    border-radius: 0.85rem;
    overflow: hidden;
    box-shadow: 0 6px 16px rgba(15, 23, 42, 0.08);
}

.tabela-alegre thead tr {
    background: #e2e8f0;
}

.tabela-alegre tbody tr {
    transition: filter 0.2s ease;
}

.tabela-alegre tbody tr:hover {
    filter: brightness(0.98);
}

.tabela-alegre .linha-alegre-1 {
    background: #f9dfe3;
}

.tabela-alegre .linha-alegre-2 {
    background: #e7f2d9;
}

.tabela-alegre .linha-alegre-3 {
    background: #e4ddf2;
}

.tabela-alegre .linha-alegre-4 {
    background: #d8eef8;
}

.dark .tabela-alegre {
    box-shadow: 0 6px 16px rgba(2, 6, 23, 0.35);
}

.dark .tabela-alegre thead tr {
    background: rgba(51, 65, 85, 0.85);
}

.dark .tabela-alegre .linha-alegre-1 {
    background: rgba(127, 29, 29, 0.32);
}

.dark .tabela-alegre .linha-alegre-2 {
    background: rgba(63, 98, 18, 0.32);
}

.dark .tabela-alegre .linha-alegre-3 {
    background: rgba(88, 28, 135, 0.32);
}

.dark .tabela-alegre .linha-alegre-4 {
    background: rgba(8, 47, 73, 0.34);
}

.chapter-hero {
    margin-top: 1rem;
    border: 1px solid #bfdbfe;
    background: linear-gradient(135deg, #eff6ff, #ecfdf3);
    border-radius: 0.95rem;
    padding: 1rem;
}

.chapter-hero h2 {
    margin: 0 0 0.35rem;
    font-size: 1.05rem;
    color: #1e3a8a;
}

.chapter-hero p {
    margin: 0;
    color: #334155;
}

.chapter-hero-meta {
    margin-top: 0.8rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.chapter-hero-chip {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    padding: 0.3rem 0.6rem;
    border-radius: 9999px;
    font-size: 0.78rem;
    font-weight: 600;
    color: #0f172a;
    background: #ffffff;
    border: 1px solid #cbd5e1;
}

.chapter-hero-chip i {
    width: 0.9rem;
    height: 0.9rem;
}

.quiz-form {
    margin-top: 0.75rem;
}

.quiz-questions {
    display: grid;
    gap: 0.7rem;
}

.quiz-question {
    border: 1px solid #cbd5e1;
    border-radius: 0.75rem;
    padding: 0.75rem;
    background: #ffffff;
}

.quiz-question legend {
    font-weight: 600;
    margin-bottom: 0.35rem;
}

.quiz-option {
    display: block;
    margin-top: 0.25rem;
    font-size: 0.92rem;
}

.quiz-actions {
    margin-top: 0.8rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.quiz-result {
    margin-top: 0.65rem;
    font-weight: 600;
}

.checklist-box {
    margin-top: 0.75rem;
    border: 1px solid #cbd5e1;
    border-radius: 0.85rem;
    padding: 0.85rem 1rem;
    background: #f8fafc;
}

.checklist-box ul {
    margin: 0;
    padding-left: 1.2rem;
}

.next-step {
    margin-top: 0.75rem;
    border: 1px solid #bbf7d0;
    border-radius: 0.85rem;
    padding: 0.9rem 1rem;
    background: #f0fdf4;
}

.dark .chapter-hero {
    border-color: #334155;
    background: linear-gradient(135deg, rgba(30, 41, 59, 0.9), rgba(21, 128, 61, 0.18));
}

.dark .chapter-hero h2 {
    color: #bfdbfe;
}

.dark .chapter-hero p {
    color: #cbd5e1;
}

.dark .chapter-hero-chip {
    color: #e2e8f0;
    background: rgba(15, 23, 42, 0.65);
    border-color: #475569;
}

.dark .quiz-question {
    background: rgba(15, 23, 42, 0.7);
    border-color: #475569;
}

.dark .checklist-box {
    background: rgba(30, 41, 59, 0.75);
    border-color: #475569;
}

.dark .next-step {
    background: rgba(20, 83, 45, 0.3);
    border-color: #22c55e;
}

.didactic-block {
    margin: 1.25rem 0;
    padding: 1rem 1rem 0.85rem;
    border-radius: 0.75rem;
    border: 1px solid transparent;
    border-left-width: 4px;
    box-shadow: 0 8px 20px rgba(15, 23, 42, 0.06);
    transition: transform 0.2s ease, box-shadow 0.2s ease, filter 0.2s ease;
}

.didactic-block:hover {
    transform: translateX(5px);
    box-shadow: 0 12px 26px rgba(15, 23, 42, 0.1);
    filter: saturate(1.03);
}

.didactic-title {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    margin: -1.2rem 0 0.65rem 0.4rem;
    padding: 0.2rem 0.55rem;
    border-radius: 9999px;
    font-weight: 700;
    font-size: 0.82rem;
    letter-spacing: 0.02em;
    text-transform: uppercase;
}

.didactic-title i {
    width: 0.92rem;
    height: 0.92rem;
}

.didactic-block > :last-child {
    margin-bottom: 0;
}

.prose .didactic-block :where(p, ul, ol, pre, table) {
    margin-top: 0.45rem;
    margin-bottom: 0.45rem;
}

.prose .didactic-title {
    margin-top: 0;
    margin-bottom: 0.65rem;
}

.bloco-conceito {
    background: linear-gradient(135deg, #ecfdf3, #f6fffb);
    border-color: #86efac;
}

.bloco-conceito .didactic-title {
    background: #dcfce7;
    color: #166534;
}

.bloco-analogia {
    background: linear-gradient(135deg, #f5f3ff, #faf7ff);
    border-color: #c4b5fd;
}

.bloco-analogia .didactic-title {
    background: #ede9fe;
    color: #5b21b6;
}

.bloco-dica {
    background: linear-gradient(135deg, #eff6ff, #f8fbff);
    border-color: #93c5fd;
}

.bloco-dica .didactic-title {
    background: #dbeafe;
    color: #1e40af;
}

.bloco-atencao {
    background: linear-gradient(135deg, #fff7ed, #fffaf4);
    border-color: #fdba74;
}

.bloco-atencao .didactic-title {
    background: #ffedd5;
    color: #9a3412;
}

.bloco-insight {
    background: linear-gradient(135deg, #fef9c3, #fffce2);
    border-color: #facc15;
}

.bloco-insight .didactic-title {
    background: #fde68a;
    color: #854d0e;
}

.bloco-consulta-sql {
    background: #f0f9ff;
    border-color: #7dd3fc;
}

.bloco-consulta-sql .didactic-title {
    background: #e0f2fe;
    color: #0c4a6e;
}

.bloco-resultado-consulta {
    background: #f8fafc;
    border-color: #cbd5e1;
}

.bloco-resultado-consulta .didactic-title {
    background: #e2e8f0;
    color: #334155;
}

.bloco-resultado-consulta pre,
.bloco-resultado-consulta code {
    font-size: 0.8rem;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

.dark .bloco-conceito {
    background: linear-gradient(135deg, rgba(20, 83, 45, 0.45), rgba(21, 128, 61, 0.28));
    border-color: #22c55e;
}

.dark .bloco-conceito .didactic-title {
    background: rgba(34, 197, 94, 0.2);
    color: #bbf7d0;
}

.dark .bloco-analogia {
    background: linear-gradient(135deg, rgba(76, 29, 149, 0.42), rgba(91, 33, 182, 0.24));
    border-color: #a78bfa;
}

.dark .bloco-analogia .didactic-title {
    background: rgba(167, 139, 250, 0.22);
    color: #ddd6fe;
}

.dark .bloco-dica {
    background: linear-gradient(135deg, rgba(30, 64, 175, 0.38), rgba(29, 78, 216, 0.23));
    border-color: #60a5fa;
}

.dark .bloco-dica .didactic-title {
    background: rgba(96, 165, 250, 0.2);
    color: #bfdbfe;
}

.dark .bloco-atencao {
    background: linear-gradient(135deg, rgba(124, 45, 18, 0.44), rgba(154, 52, 18, 0.25));
    border-color: #fb923c;
}

.dark .bloco-atencao .didactic-title {
    background: rgba(251, 146, 60, 0.2);
    color: #fed7aa;
}

.dark .bloco-insight {
    background: linear-gradient(135deg, rgba(113, 63, 18, 0.44), rgba(133, 77, 14, 0.24));
    border-color: #fbbf24;
}

@media (min-width: 1024px) {
    .didactic-note {
        max-width: 26rem;
    }

    .didactic-note--right {
        margin-left: auto;
    }
}

.chapter-lead {
    margin-top: 0.7rem;
    font-size: 1.08rem;
    line-height: 1.7;
    color: #475569;
}

.dark .chapter-lead {
    color: #cbd5e1;
}

.keyword {
    display: inline;
    padding: 0 0.2em;
    border-radius: 0.2rem;
    background: linear-gradient(transparent 52%, rgba(250, 204, 21, 0.38) 0);
    font-weight: 700;
}

.reading-progress {
    position: sticky;
    top: 73px;
    z-index: 35;
    width: 100%;
    height: 4px;
    background: rgba(148, 163, 184, 0.25);
}

.reading-progress-bar {
    width: 0;
    height: 100%;
    background: linear-gradient(90deg, #22c55e, #16a34a);
    transition: width 0.08s linear;
}

.dark .reading-progress {
    background: rgba(51, 65, 85, 0.85);
}

.timeline-box {
    position: relative;
    margin: 1rem 0 1.4rem;
    padding-left: 1.1rem;
}

.timeline-box::before {
    content: "";
    position: absolute;
    left: 0.2rem;
    top: 0.2rem;
    bottom: 0.2rem;
    width: 2px;
    background: linear-gradient(180deg, #86efac, #60a5fa);
}

.timeline-item {
    position: relative;
    margin: 0 0 0.9rem;
    padding: 0.8rem 0.9rem;
    border: 1px solid rgba(15, 23, 42, 0.12);
    border-radius: 0.8rem;
    background: #ffffff;
}

.timeline-item::before {
    content: "";
    position: absolute;
    left: -1rem;
    top: 1rem;
    width: 0.65rem;
    height: 0.65rem;
    border-radius: 9999px;
    background: #16a34a;
    box-shadow: 0 0 0 3px rgba(22, 163, 74, 0.18);
}

.timeline-head {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin: 0 0 0.35rem;
    font-weight: 700;
    color: #0f172a;
}

.timeline-head i {
    width: 1rem;
    height: 1rem;
    color: #166534;
}

.timeline-text {
    margin: 0;
}

.vs-grid {
    display: grid;
    gap: 0.9rem;
    margin: 0.95rem 0 1.1rem;
}

@media (min-width: 900px) {
    .vs-grid {
        grid-template-columns: 1fr 1fr;
    }
}

.vs-card {
    border: 1px solid rgba(15, 23, 42, 0.12);
    border-radius: 0.9rem;
    background: #ffffff;
    padding: 0.9rem 1rem;
}

.vs-card h3 {
    margin: 0 0 0.55rem;
    font-size: 1.08rem;
    color: #0f172a;
}

.vs-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    gap: 0.45rem;
}

.vs-list li {
    display: flex;
    align-items: flex-start;
    gap: 0.45rem;
    margin: 0;
}

.vs-list i {
    width: 0.95rem;
    height: 0.95rem;
    margin-top: 0.2rem;
    flex-shrink: 0;
}

.vs-good i {
    color: #16a34a;
}

.vs-caution i {
    color: #ea580c;
}

.vs-qgis {
    background: linear-gradient(135deg, #eef7ff, #f8fbff);
}

.vs-postgis {
    background: linear-gradient(135deg, #ecfdf3, #f5fff9);
}

.dark .timeline-box::before {
    background: linear-gradient(180deg, #22c55e, #38bdf8);
}

.dark .timeline-item {
    background: rgba(15, 23, 42, 0.72);
    border-color: rgba(148, 163, 184, 0.35);
}

.dark .timeline-head {
    color: #e2e8f0;
}

.dark .timeline-head i {
    color: #86efac;
}

.dark .vs-card {
    background: rgba(15, 23, 42, 0.72);
    border-color: rgba(148, 163, 184, 0.35);
}

.dark .vs-card h3 {
    color: #f8fafc;
}

.dark .vs-qgis {
    background: linear-gradient(135deg, rgba(30, 64, 175, 0.22), rgba(15, 23, 42, 0.76));
}

.dark .vs-postgis {
    background: linear-gradient(135deg, rgba(22, 101, 52, 0.24), rgba(15, 23, 42, 0.76));
}

.dark .bloco-insight .didactic-title {
    background: rgba(251, 191, 36, 0.2);
    color: #fde68a;
}

.dark .bloco-consulta-sql {
    background: rgba(12, 74, 110, 0.35);
    border-color: #38bdf8;
}

.dark .bloco-consulta-sql .didactic-title {
    background: rgba(56, 189, 248, 0.2);
    color: #bae6fd;
}

.dark .bloco-resultado-consulta {
    background: rgba(30, 41, 59, 0.55);
    border-color: #475569;
}

.dark .bloco-resultado-consulta .didactic-title {
    background: rgba(148, 163, 184, 0.2);
    color: #e2e8f0;
}

/* Tipografia editorial para o conteúdo dos capítulos */
.prose {
    hyphens: auto;
    hanging-punctuation: first last;
    text-wrap: pretty;
}
.prose-editorial,
.prose.prose-justificado.prose-indent {
    max-width: 100%;
    margin-left: auto;
    margin-right: auto;
}

@media (min-width: 1024px) {
    .prose-editorial,
    .prose.prose-justificado.prose-indent {
        max-width: 88ch;
    }
}

.prose-editorial :where(p),
.prose.prose-justificado.prose-indent :where(p) {
    text-align: left;
    text-indent: 0;
    margin-top: 0;
    margin-bottom: 1.5rem;
    line-height: 1.8;
    color: #334155;
}

.dark .prose-editorial :where(p),
.dark .prose.prose-justificado.prose-indent :where(p) {
    color: #cbd5e1;
}

.prose-editorial :where(h2 + p, h3 + p, h4 + p, blockquote + p, figure + p, table + p),
.prose.prose-justificado.prose-indent :where(h2 + p, h3 + p, h4 + p, blockquote + p, figure + p, table + p) {
    margin-top: 0.2rem;
}
.prose :where(strong){
    color: var(--ifsc-green);
    font-weight: 700;
}
.prose :where(em){
    color: #0f766e;
}
.prose :where(mark){
    background: linear-gradient(transparent 60%, rgba(251, 191, 36, .35) 0);
    padding: 0 .1em;
}
.prose :where(table){
    display: block;
    width: 100%;
    overflow-x: auto;
    border-collapse: collapse;
}
.prose :where(th, td){
    border: 1px solid rgba(148,163,184,.4);
    padding: .5rem .75rem;
}
.prose :where(thead th){
    background: rgba(226,232,240,.5);
    font-weight: 600;
}
.prose :where(img){
    max-width: 100%;
    height: auto;
    border-radius: .5rem;
    box-shadow: 0 1px 8px rgba(0,0,0,.08);
}
.prose :where(figure){
    margin: 1.25rem auto;
    text-align: center;
}
.prose :where(figcaption){
    font-size: .875rem;
    color: #64748b;
    margin-top: .5rem;
}
.prose :where(blockquote){
    border-left: 4px solid var(--ifsc-green);
    background: rgba(230, 244, 234, 0.4);
    padding: .75rem 1rem;
    border-radius: .375rem;
}
.dark .prose :where(thead th){
    background: rgba(30,41,59,.6);
}
.dark .prose :where(th, td){
    border-color: rgba(100,116,139,.35);
}
.dark .prose :where(figcaption){
    color: #94a3b8;
}

/* Remove backticks from code blocks in Tailwind Typography */
.prose code::before,
.prose code::after {
    content: none !important;
}