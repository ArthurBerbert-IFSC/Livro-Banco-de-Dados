<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="manifest.webmanifest">
    <title>Fundamentos do SQL — Geoprocessamento 2</title>

    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css" rel="stylesheet">
    <link rel="stylesheet" href="estilos.css">

    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: { sans: ['Inter', 'sans-serif'] },
            colors: { 'ifsc-green': '#1B5E20', 'ifsc-soft': '#E6F4EA', 'ifsc-gray': '#374151' }
          }
        }
      }
    </script>
</head>
<body class="bg-slate-50 dark:bg-slate-950 text-ifsc-gray dark:text-slate-300 antialiased">
    <header class="bg-white/95 backdrop-blur shadow-sm sticky top-0 z-40 dark:bg-slate-900/90">
        <div class="border-b border-slate-200/60 dark:border-slate-700/60">
            <div class="container mx-auto px-6 py-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
                <div class="flex flex-wrap items-center justify-center gap-4 md:justify-start">
                    <img src="imagens/logotipos/Logo_Disciplina_5.png" alt="Logo da Disciplina" class="h-16 md:h-18 lg:h-20 w-auto opacity-100 drop-shadow-sm" onerror="this.style.display='none'">
                    <img src="imagens/logotipos/florianopolis_horizontal_marca2015_PNG.png" alt="IFSC Florianópolis" class="h-10 w-auto opacity-80" onerror="this.style.display='none'">
                </div>
                <div class="flex items-center gap-3 justify-center md:justify-end">
                    <div class="text-center md:text-right">
                        <p class="text-lg font-semibold text-ifsc-green dark:text-emerald-300">GE2014902 - Geoprocessamento 2</p>
                        <p class="text-xs text-gray-500 dark:text-slate-300/80">Versão 2026.1</p>
                    </div>
                    <button id="theme-toggle" type="button" class="theme-toggle" aria-label="Alternar tema">
                        <i data-lucide="sun" class="sun-icon"></i>
                        <i data-lucide="moon" class="moon-icon"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-6 py-8">
        <div class="mb-6 text-slate-500 dark:text-slate-400"><a href="index.html" class="text-sm hover:underline">← Sumário</a> · <a href="capitulo-03.html" class="text-sm hover:underline">← Cap. anterior: Bancos de Dados GeoPackage</a> · <a href="capitulo-05.html" class="text-sm hover:underline">Próx. capítulo: Os Subconjuntos da Linguagem SQL: DDL, DML e DQL →</a></div>
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            <aside class="lg:col-span-3 hidden lg:block">
                <div class="sticky top-24 p-4 border border-slate-200 dark:border-slate-700 rounded-xl bg-white/60 dark:bg-slate-900/40">
                    <nav class="text-sm">
<p class="text-xs uppercase tracking-wide text-slate-500 dark:text-slate-400 mb-2">Neste capítulo</p>
<ul class="space-y-1">
<li class="ml-0"><a href="#introducao-geral-ao-sql-a-linguagem-dos-dados" class="hover:text-ifsc-green dark:hover:text-emerald-300">Introdução Geral ao SQL: A Linguagem dos Dados</a></li>
<li class="ml-0"><a href="#tipos-de-dados-em-sql" class="hover:text-ifsc-green dark:hover:text-emerald-300">Tipos de Dados em SQL</a></li>
<li class="ml-0"><a href="#restricoes-de-integridade-garantindo-a-qualidade-dos-dados" class="hover:text-ifsc-green dark:hover:text-emerald-300">Restrições de Integridade: Garantindo a Qualidade dos Dados</a></li>
</ul></nav>
                </div>
            </aside>
            <article class="lg:col-span-9">
                <header class="mb-8">
                    <h1 class="text-4xl font-bold text-ifsc-green dark:text-emerald-300 mb-2">Capítulo 4: Fundamentos do SQL</h1>
                    
                </header>
                <div class="prose prose-lg max-w-none prose-slate dark:prose-invert prose-justificado prose-indent">
                

<p>Nos capítulos anteriores, exploramos a criação e o
gerenciamento de bancos de dados através das interfaces visuais do QGIS, com
foco no formato GeoPackage. Aprendemos a criar camadas, adicionar campos e a
organizar nossos projetos. Agora, daremos <b>um passo fundamental que separa o
usuário de um software do verdadeiro gestor de dados geográficos</b>:
aprenderemos a nos comunicar diretamente com o banco de dados usando sua
própria linguagem. </p>

<p><img src="imagens/capitulos/capitulo-04/image059.png" class="my-4 rounded-lg shadow-sm max-w-full h-auto float-left mr-4" />Neste
capítulo, vamos mergulhar na <b>linguagem que move praticamente todos os bancos
de dados relacionais do mundo: o SQL.</b> Nosso objetivo é que você adquira
autonomia para criar, consultar, manipular e gerenciar dados de forma
estruturada e eficiente. Começaremos com os conceitos essenciais, como os tipos
de dados e os subconjuntos de comandos (DDL, DML, DQL), e avançaremos de forma
prática para construir e extrair informações valiosas de nossas tabelas, sempre
conectando o aprendizado ao fluxo de trabalho real de um técnico em
geoprocessamento no QGIS.</p>

<h2 id="introducao-geral-ao-sql-a-linguagem-dos-dados" class="mt-10 scroll-mt-24 text-2xl font-semibold text-ifsc-green dark:text-emerald-300">4.1 Introdução Geral ao SQL: A Linguagem dos Dados</h2>

<p>Até agora, interagimos com os dados geográficos
principalmente através de interfaces gráficas, como as do QGIS. Essas
ferramentas são excelentes para visualização, edição manual e muitas análises. <b>Contudo,
para se tornar um profissional completo em geoprocessamento, é preciso ir além
dos cliques e aprender a &quot;conversar&quot; diretamente com o banco de dados</b>.
A linguagem para essa conversa é o SQL.</p>

<p><b>SQL significa <i>Structured Query Language</i>, ou
Linguagem de Consulta Estruturada</b>. É o idioma universal para gerenciar e
consultar informações em bancos de dados relacionais, como o SQLite (a base do
GeoPackage) e o PostgreSQL/PostGIS.</p>

<p>Dominar o SQL oferece duas vantagens transformadoras
para um técnico em geoprocessamento:</p>

<p>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b>Precisão
e Poder Analítico</b>: Enquanto uma interface gráfica oferece um
&quot;cardápio&quot; limitado de operações, <b>o SQL permite que você faça
perguntas complexas e específicas</b> que seriam impossíveis de outra forma.
Você deixa de ser um mero operador de software para se tornar um analista que
extrai <i>insights</i> precisos dos dados, sem intermediários.</p>

<p>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b>Eficiência
e Automação para Grandes Volumes de Dados</b>: O mundo real do geoprocessamento
<b>envolve lidar com milhares ou milhões de feições</b>. Atualizar manualmente
um atributo em 1.000 registros é inviável. Com um único comando SQL, essa
tarefa é executada em segundos. O SQL é a base para a <b>criação de rotinas
automáticas (scripts)</b>, para a garantia da qualidade dos dados em larga
escala e para o gerenciamento de projetos robustos e multiusuários, superando
definitivamente as limitações de arquivos como o Shapefile.</p>

<p>Neste capítulo, você aprenderá os fundamentos desse poderoso
idioma, o que representa um salto fundamental na sua capacidade de gerenciar
informação geográfica de forma profissional, eficiente e escalável.</p>

<h2 id="tipos-de-dados-em-sql" class="mt-10 scroll-mt-24 text-2xl font-semibold text-ifsc-green dark:text-emerald-300">4.2 Tipos de Dados em SQL</h2>

<p>Antes de criar uma tabela ou inserir qualquer
informação em um banco de dados, precisamos definir qual o <b>tipo de dado</b>
que cada coluna irá armazenar. Pense nisso como organizar uma mudança: você não
guarda líquidos em caixas de papelão nem objetos frágeis em sacos de qualquer
jeito. Cada item exige um recipiente adequado. No SQL, a lógica é a mesma: <b>cada
coluna é projetada para um tipo específico de informação</b>, garantindo que os
dados sejam armazenados, processados e recuperados de forma correta e
eficiente.</p>

<p>A escolha do tipo de dado correto é um passo
fundamental na modelagem do banco, pois impacta diretamente a <b>integridade
dos dados</b>, o <b>desempenho das consultas</b> e o <b>tipo de operação</b>
que se pode realizar. Não é possível, por exemplo, calcular a média de uma
coluna definida como texto. A seguir, apresentamos os tipos de dados mais
comuns que utilizaremos em nossos projetos de geoprocessamento.</p>

<p><b>Principais Tipos de Dados:</b></p>

<p><img src="imagens/capitulos/capitulo-04/image060.png" class="my-4 rounded-lg shadow-sm max-w-full h-auto" /></p>

<h2 id="restricoes-de-integridade-garantindo-a-qualidade-dos-dados" class="mt-10 scroll-mt-24 text-2xl font-semibold text-ifsc-green dark:text-emerald-300">4.3 Restrições de Integridade: Garantindo a Qualidade dos Dados</h2>

<p>Agora que sabemos como definir o tipo de informação que
cada coluna irá guardar, precisamos estabelecer as <b>regras do jogo</b>. Em um
banco de dados, essas regras são chamadas de <b>restrições de integridade</b> (<i>constraints</i>).
Elas funcionam como &quot;guardas&quot; que impedem a inserção de dados
inválidos ou inconsistentes, assegurando que a base de dados se mantenha
confiável, organizada e lógica ao longo do tempo.</p>

<p>A aplicação de restrições é uma das práticas mais
importantes na modelagem de um banco de dados profissional. <b>Elas garantem
que, independentemente de quem ou de qual software esteja inserindo os dados,
as regras fundamentais do projeto serão sempre respeitadas.</b> Vamos conhecer
as principais restrições utilizadas em SQL.</p>

<p><b><u>Principais Restrições de Integridade</u></b></p>

<p>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<b>NOT NULL (Não Nulo)</b></p>

<p>o&nbsp;&nbsp; <b>O
que faz:</b> Garante que uma coluna não pode conter valores nulos (vazios). O
preenchimento daquele campo se torna obrigatório para cada novo registro
inserido na tabela.</p>

<p>o&nbsp;&nbsp; <b>Quando
usar</b>: Em colunas cuja informação é essencial para o registro fazer sentido.</p>

<p>o&nbsp;&nbsp; <b>Exemplo
prático</b>: Na nossa tabela relatorio_balneabilidade, as colunas data_coleta e
resultado_ecoli deveriam ser NOT NULL, pois um relatório de balneabilidade sem
a data da coleta ou sem o resultado da análise não possui valor.</p>

<p>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<b>UNIQUE (Único)</b></p>

<p>o&nbsp;&nbsp; <b>O
que faz</b>: Assegura que todos os valores em uma determinada coluna sejam
diferentes uns dos outros. Nenhuma duplicação é permitida.</p>

<p>o&nbsp;&nbsp; <b>Quando
usar</b>: Para campos que funcionam como um identificador que não pode se
repetir, como o CPF de uma pessoa, o email de um usuário ou um código de
protocolo para uma amostra.</p>

<p>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<b>PRIMARY KEY (Chave Primária)</b></p>

<p>o&nbsp;&nbsp; <b>O
que faz</b>: É a restrição mais importante. Ela designa uma coluna (ou um
conjunto de colunas) como o identificador único e principal de cada linha da
tabela. Uma chave primária é, por definição, UNIQUE e NOT NULL.</p>

<p>o&nbsp;&nbsp; <b>Quando
usar</b>: Toda tabela bem modelada deve ter uma chave primária. Ela é o
&quot;RG&quot; de cada registro, permitindo que o banco localize, atualize ou
remova uma linha específica com máxima eficiência. É também a base para criar
relacionamentos com outras tabelas.</p>

<p>o&nbsp;&nbsp; <b>Exemplo
prático</b>: O ideal para a nossa tabela relatorio_balneabilidade seria
adicionar uma coluna, como id_relatorio do tipo INTEGER, e defini-la como
PRIMARY KEY.</p>

<p>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<b>FOREIGN KEY (Chave Estrangeira)</b></p>

<p>o&nbsp;&nbsp; <b>O
que faz</b>: Cria um vínculo lógico entre duas tabelas, garantindo a <b>integridade
referencial</b>. Uma chave estrangeira em uma tabela &quot;aponta&quot; para a
chave primária de outra tabela.</p>

<p>o&nbsp;&nbsp; <b>Quando
usar</b>: É o pilar dos bancos de dados relacionais. Ela garante, por exemplo,
que não seja possível registrar um relatório de medição para um ponto de coleta
que não existe na tabela de locais.</p>

<p>o&nbsp;&nbsp; <b>Exemplo
prático</b>: Se a nossa tabela locais_coleta tivesse uma chave primária
id_ponto, poderíamos adicionar uma coluna id_ponto_fk na tabela
relatorio_balneabilidade e defini-la como uma FOREIGN KEY que referencia a
tabela locais_coleta.</p>

<p>·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<b>CHECK (Verificar)</b></p>

<p>o&nbsp;&nbsp; <b>O
que faz</b>: Permite definir uma regra ou condição personalizada que o valor de
uma coluna deve satisfazer para ser aceito.</p>

<p>o&nbsp;&nbsp; <b>Quando
usar</b>: Para aplicar regras de negócio específicas que não são cobertas por
outras restrições.</p>

<p>o&nbsp;&nbsp; <b>Exemplo
prático</b>: Poderíamos usar a restrição CHECK na coluna resultado_ecoli para
garantir que o valor inserido seja sempre positivo ou zero (resultado_ecoli
&gt;= 0). Outro exemplo seria na coluna mare, para permitir apenas os valores
'Alta', 'Baixa' ou 'Reponto'.</p>

<p>A compreensão destas restrições é fundamental. Embora no QGIS
possamos configurar formulários e domínios para guiar o preenchimento, as
restrições SQL são mais robustas, pois são aplicadas diretamente no banco de
dados, valendo para qualquer forma de acesso.</p>

<br
clear=all>


<p><b>&nbsp;</b></p>


                </div>
                <div class="mt-10 pt-6 border-t border-slate-200 dark:border-slate-700 flex flex-wrap items-center justify-between gap-3">
                    <a href="index.html" class="text-slate-500 hover:underline">Sumário</a>
                    <div class="flex gap-3">
                        <a href="capitulo-03.html" class="inline-flex items-center gap-2 rounded-lg border border-slate-300 dark:border-slate-600 px-3 py-2 hover:bg-slate-50 dark:hover:bg-slate-800">← Bancos de Dados GeoPackage</a>
                        <a href="capitulo-05.html" class="inline-flex items-center gap-2 rounded-lg border border-slate-300 dark:border-slate-600 px-3 py-2 hover:bg-slate-50 dark:hover:bg-slate-800">Os Subconjuntos da Linguagem SQL: DDL, DML e DQL →</a>
                    </div>
                </div>
            </article>
        </div>
    </main>

    <footer class="mt-8 bg-white shadow-inner dark:bg-slate-900/90">
        <div class="container mx-auto px-6 py-8 text-center text-slate-600 dark:text-slate-400">
            <p class="text-base font-semibold text-ifsc-green">GE2014902 - GEOPROCESSAMENTO 2 - T01</p>
            <p class="text-sm">Curso Técnico em Geoprocessamento · DACC - IFSC Florianópolis</p>
            <p class="text-sm">Professor responsável: Arthur Berbert</p>
            <p class="text-xs text-slate-400 mt-2">Versão 2026.1</p>
        </div>
    </footer>

    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="main.js"></script>
    <script>lucide.createIcons();</script>
</body>
</html>
