## Plan: Reorganização de estilos da apostila PWA (DRAFT)

Objetivo: estabilizar a base de estilos antes de expandir conteúdo, com revisão visual ampla, mantendo geração via Python e garantindo funcionamento offline total dos recursos visuais. A estratégia será em piloto (home + 1 capítulo) para reduzir risco, validar padrão e só então replicar para os demais capítulos. O foco técnico é separar responsabilidades (tokens, layout, componentes didáticos, utilitários), remover duplicações entre páginas e consolidar a camada de tema/dark mode para evitar conflitos entre CSS global e utilitários Tailwind.

**Steps**
1. Auditar e consolidar padrões visuais reais usados hoje em [index.html](index.html), [capitulo-01.html](capitulo-01.html) e [estilos.css](estilos.css), definindo catálogo de componentes (header, sumário, blocos didáticos, código, tabelas, footer).
2. Redesenhar a arquitetura CSS em camadas em [estilos.css](estilos.css) (ou em arquivos segmentados importados por ele): base/tokens IFSC, layout, componentes didáticos, estados/tema, com nomenclatura consistente e sem seletores globais frágeis.
3. Padronizar o template de página no gerador Python em [_dev/tools/convert_original_to_pwa.py](_dev/tools/convert_original_to_pwa.py), removendo duplicações de configuração e garantindo que novas páginas já saiam no padrão reorganizado.
4. Executar piloto aplicando o novo padrão em [index.html](index.html) e [capitulo-01.html](capitulo-01.html), incluindo ajustes visuais amplos (tipografia, espaçamentos, hierarquia, blocos de destaque) dentro da identidade IFSC.
5. Tornar recursos externos offline-first de fato: substituir dependências críticas por assets locais versionados e ajustar pré-cache/estratégia em [service-worker.js](service-worker.js) e manifesto em [manifest.webmanifest](manifest.webmanifest).
6. Validar scripts que impactam UI/tema em [main.js](main.js), [scripts/sql-playground.js](scripts/sql-playground.js) e [scripts/svg-interactions.js](scripts/svg-interactions.js), garantindo compatibilidade com a nova arquitetura visual.
7. Após validação do piloto, replicar padrão para [capitulo-02.html](capitulo-02.html) até [capitulo-08.html](capitulo-08.html), preferencialmente via geração automática no pipeline Python.

**Verification**
- Verificação visual responsiva (mobile/tablet/desktop) em home + capítulo piloto.
- Teste de tema claro/escuro e consistência de componentes didáticos/código.
- Teste offline real: primeira carga online, depois navegação completa sem rede.
- Regeneração via Python e comparação estrutural dos HTMLs gerados.

**Decisions**
- Conversor oficial: Python em [_dev/tools/convert_original_to_pwa.py](_dev/tools/convert_original_to_pwa.py).
- Escopo: organização + revisão visual ampla.
- Offline: garantir recursos de estilo totalmente locais e cacheados.
- Migração: piloto primeiro, depois replicação.
